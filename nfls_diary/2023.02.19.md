### 比特跳舞

> ![](./p57.png)
>
> $n\le 10^6$。

设 $f_{i,j}$ 表示前 $i$ 以 $j$ 结尾的数量，那么每次的作用就是 $f_{i+1,j}\leftarrow \sum f_{i,x}$，那么考察奇偶性，设 $f_0=\sum f$，那么每次操作相当于交换 $f_0,f_{a_u}$。

### 比特之地

>![](./p58.png)

平面图 separator theorem：可以找到 $O(n^{0.5})$ 各点，把平面图分成两部分。
